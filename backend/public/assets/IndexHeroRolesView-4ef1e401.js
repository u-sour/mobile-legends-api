import{H as l}from"./heroRolesMethod-0e74ef88.js";import{d as f,a as x,y as c,h as y,q as b,o as i,c as d,s as r,j as n,E,i as w,b as D,t as I,L as k,l as u,I as C}from"./index-fcb8af74.js";import{_ as N}from"./EasyDataTableActions.vue_vue_type_script_setup_true_lang-ac293f53.js";import{A as T}from"./alert-message-757f299f.js";const A={id:"index-hero-roles"},B=["src"],$=f({__name:"IndexHeroRolesView",setup(M){const m=x(),t=c(!0),_=[{text:"ICON",value:"icon_url"},{text:"NAME",value:"name"},{text:"STATUS",value:"status"},{text:"Operation",value:"operation",width:161}],s=c([]);y(async()=>{s.value=await l.find({}),t.value=!1});const p=a=>{m.push({name:"edit.hero-roles",params:{id:a._id}})},g=async a=>{t.value=!0,await l.delete(a._id).then(async()=>{t.value=!1,s.value=s.value.filter(o=>o._id!==a._id),u.success(T.deleteSuccess(a._id))}).catch(o=>{u.error(o.message)})};return(a,o)=>{const v=b("EasyDataTable");return i(),d("div",A,[r(v,{"show-index":"",headers:_,items:s.value,"buttons-pagination":"",loading:t.value},{loading:n(()=>[r(E)]),"item-icon_url":n(({icon_url:e})=>[e?(i(),d("img",{key:0,class:"avatar-1 border rounded-circle",src:e,loading:"lazy",alt:""},null,8,B)):(i(),w(C,{key:1}))]),"item-status":n(({status:e})=>[D("span",{class:k(["badge",[e==="active"?"text-bg-success ":"text-bg-danger"]])},I(e),3)]),"item-operation":n(e=>[r(N,{onEdit:h=>p(e),onDelete:h=>g(e)},null,8,["onEdit","onDelete"])]),_:1},8,["items","loading"])])}}});export{$ as default};
