import{S as q,v as y}from"./index-2f282b77.js";import{S as V}from"./static-select-options-4e61c4c9.js";import{d as P,y as k,h as H,H as g,q as U,o as u,c as d,s as e,j as c,b as t,x as p,e as v,D as _,F as h,m as x,G as L,J as D,l as $,K as N}from"./index-0aec7abd.js";import{_ as A,c as j}from"./ImagePreview.vue_vue_type_script_setup_true_lang-404813a9.js";import{A as Y}from"./alert-message-757f299f.js";import"./heroRolesMethod-0096a980.js";import"./heroSpecialtiesMethod-ad52435f.js";const K={id:"create-heroes"},E={class:"row"},G={class:"col-12 col-md-4 col-lg-4"},T={class:"col-12 col-md-4 col-lg-4"},J={class:"col-12 col-md-4 col-lg-4"},z={class:"col-12 col-lg-6"},Q={class:"col-12 col-lg-6"},W={class:"col-12 col-md-3 col-lg-3"},X={class:"col-12 col-md-3 col-lg-3"},Z={class:"col-12 col-md-3 col-lg-3"},ee={class:"col-12 col-md-3 col-lg-3"},le={class:"col-12"},te={class:"d-flex justify-content-between"},ae=t("h1",null,"Skins",-1),oe=t("hr",null,null,-1),se={class:"col-12 col-lg-1"},ie={class:"col-12 col-lg-2 list-inline list-unstyled mt-lg-action-btn d-flex justify-content-lg-between"},ce={class:"list-inline-item"},re={class:"list-inline-item"},ne={class:"list-inline-item"},pe={class:"d-flex justify-content-between"},me=t("h1",null,"Skills",-1),fe=t("hr",null,null,-1),ue={class:"col-12 col-md-6 col-lg-2 list-inline list-unstyled mt-lg-action-btn d-flex justify-content-lg-between"},de={class:"list-inline-item"},_e={class:"list-inline-item"},be={class:"list-inline-item"},ke={class:"d-flex justify-content-between"},we=t("h1",null,"Attributes",-1),ye={class:"d-flex"},ge=t("hr",null,null,-1),ve=t("h6",null,"Physical",-1),he=t("h6",null,"Magic",-1),je=P({__name:"CreateHeroesView",setup(xe){const a=k({code:"",name:"",lane:"",roleIds:[],specialtyIds:[],battle_points:"",ticket:"",diamond:"",lucky_gem:"",release_year:"",skins:[{name:"",icon_file_name:"",icon_base:"",splash_art_file_name:"",splash_art_base:"",status:"active"}]}),F=k(!1),w=k(!1),C=k([]),S=k([]);H(async()=>{w.value=!0,C.value=await q.roleOptions(),S.value=await q.specialtyOptions(),a.value.code=await g.count(),w.value=!1});const M=()=>{a.value.skins.push({name:"",icon_file_name:"",icon_base:"",splash_art_file_name:"",splash_art_base:"",status:"active"})},R=()=>{var m,i;(i=(m=a.value)==null?void 0:m.skills)==null||i.push({skill_name:"",skill_icon:"",type:"",cooldown:"",manacost:"",description:""})},I=()=>{var m,i,l,o;a.value.base_attributes&&((i=(m=a.value)==null?void 0:m.base_attributes)==null?void 0:i.length)<1&&((o=(l=a.value)==null?void 0:l.base_attributes)==null||o.push({movement_speed:"",physical_attack:"",physical_defense:"",physical_lifesteal:"",physical_penetration:"",magic_attack:"",magic_power:"",magic_penetration:"",magic_lifesteal:"",spell_vamp:"",magic_resistance:"",hp:"",mana:"",attack_speed:"",hp_regen_rate:"",mana_regen_rate:"",critical_strike_chance:"",critical_damage:"",cd_reduction:"",bs_cd_reduction:"",healing_effect:"",monster_damage_reduction:"",monster_damage:""}))},O=m=>{var i,l;return(l=(i=a.value)==null?void 0:i.base_attributes)==null?void 0:l.splice(m,1)},B=async m=>{var i,l;m.release_year=L(m.release_year).format("YYYY");for(let o=0;o<m.skins.length;o++){const r=m.skins[o];if((i=r.icon_file)!=null&&i.length&&r.icon_file[0]){const s=await j(r.icon_file[0].file),b=await D.toBase64(s);r.icon_file_name=r.icon_file[0].name,r.icon_base=b}if((l=r.splash_art_file)!=null&&l.length&&r.splash_art_file[0]){const s=await j(r.splash_art_file[0].file),b=await D.toBase64(s);r.splash_art_file_name=r.splash_art_file[0].name,r.splash_art_base=b}}await g.create(m).then(async()=>{F.value=!0,$.success(Y.createSuccess),N("create-heroes"),a.value.code=await g.count()}).catch(o=>$.error(o.message))};return(m,i)=>{const l=U("FormKit");return u(),d("div",K,[e(l,{type:"form",id:"create-heroes",modelValue:a.value,"onUpdate:modelValue":i[3]||(i[3]=o=>a.value=o),onSubmit:B,disabled:w.value},{default:c(()=>[t("div",E,[t("div",G,[e(l,{type:"text",name:"code","wrapper-class":{"formkit-wrapper":!1},label:"Code",validation:"required",autocomplete:"off",disabled:""})]),t("div",T,[e(l,{type:"text",name:"name",label:"Name","wrapper-class":{"formkit-wrapper":!1},validation:"required",autocomplete:"off"})]),t("div",J,[e(l,{type:"select",label:"Lane",name:"lane",placeholder:"Select One","wrapper-class":{"formkit-wrapper":!1},options:p(V).lanes,validation:"required"},null,8,["options"])]),t("div",z,[e(l,{type:"select",multiple:"",label:"Roles",name:"roleIds","wrapper-class":{"formkit-wrapper":!1},options:C.value,validation:"required"},null,8,["options"])]),t("div",Q,[e(l,{type:"select",multiple:"",label:"Specialties",name:"specialtyIds","wrapper-class":{"formkit-wrapper":!1},options:S.value,validation:"required"},null,8,["options"])]),t("div",W,[e(l,{type:"text",name:"battle_points",label:"Battle Points","wrapper-class":{"formkit-wrapper":!1},autocomplete:"off"})]),t("div",X,[e(l,{type:"text",name:"ticket",label:"Ticket","wrapper-class":{"formkit-wrapper":!1},autocomplete:"off"})]),t("div",Z,[e(l,{type:"text",name:"diamond",label:"Diamond","wrapper-class":{"formkit-wrapper":!1},autocomplete:"off"})]),t("div",ee,[e(l,{type:"text",name:"lucky_gem",label:"Lucky Gem","wrapper-class":{"formkit-wrapper":!1},autocomplete:"off"})]),t("div",le,[e(l,{type:"date",name:"release_year","wrapper-class":{"formkit-wrapper":!1},label:"Release Year",validation:"required|date_after:2015-12-31"})])]),v((u(),d("div",null,[t("div",te,[ae,e(l,{type:"button","input-class":"$remove:formkit-input btn btn-primary p-action-btn",onClick:M},{default:c(()=>[e(p(_),{icon:"add"})]),_:1})]),oe,e(l,{modelValue:a.value.skins,"onUpdate:modelValue":i[0]||(i[0]=o=>a.value.skins=o),name:"skins",type:"list",dynamic:""},{default:c(({items:o})=>[(u(!0),d(h,null,x(o,(r,s)=>(u(),d("div",{key:r,class:"row"},[e(l,{type:"group",index:s},{default:c(()=>[e(l,{type:"text",label:"Name",name:"name","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-lg-3",validation:"required",autocomplete:"off"}),e(l,{type:"file",label:"Icon",name:"icon_file","file-item-icon":"","no-files-icon":"fileImage",accept:".jpg,.jpeg,.png","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-lg-3",validation:"required",autocomplete:"off"},{prefix:c(()=>[e(A,{imageFile:a.value.skins[s].icon_file},null,8,["imageFile"])]),_:2},1024),e(l,{type:"file",label:"Splash Art",name:"splash_art_file","file-item-icon":"","no-files-icon":"fileImage",accept:".jpg,.jpeg,.png","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-lg-3",validation:"required",autocomplete:"off"},{prefix:c(()=>[e(A,{imageFile:a.value.skins[s].splash_art_file},null,8,["imageFile"])]),_:2},1024),t("div",se,[e(l,{type:"select",label:"Status",name:"status",placeholder:"Select One","wrapper-class":{"formkit-wrapper":!1},options:p(V).status,validation:"required"},null,8,["options"])])]),_:2},1032,["index"]),t("div",ie,[t("li",ce,[e(l,{type:"button","input-class":"p-action-btn",onClick:b=>{var n,f;return(f=a.value.skins)==null?void 0:f.splice(s-1,0,(n=a.value.skins)==null?void 0:n.splice(s,1)[0])}},{default:c(()=>[e(p(_),{icon:"arrowUp"})]),_:2},1032,["onClick"])]),t("li",re,[e(l,{type:"button","input-class":"p-action-btn",onClick:b=>{var n,f;return(f=a.value.skins)==null?void 0:f.splice(s+1,0,(n=a.value.skins)==null?void 0:n.splice(s,1)[0])}},{default:c(()=>[e(p(_),{icon:"arrowDown"})]),_:2},1032,["onClick"])]),t("li",ne,[e(l,{type:"button","input-class":"$remove:formkit-input btn btn-danger p-action-btn",onClick:b=>{var n;return(n=a.value.skins)==null?void 0:n.splice(s,1)}},{default:c(()=>[e(p(_),{icon:"close"})]),_:2},1032,["onClick"])])])]))),128))]),_:1},8,["modelValue"])])),[[p(y)]]),v((u(),d("div",null,[t("div",pe,[me,e(l,{type:"button","input-class":"$remove:formkit-input btn btn-primary p-action-btn",onClick:R},{default:c(()=>[e(p(_),{icon:"add"})]),_:1})]),fe,e(l,{modelValue:a.value.skills,"onUpdate:modelValue":i[1]||(i[1]=o=>a.value.skills=o),name:"skills",type:"list",dynamic:""},{default:c(({items:o})=>[(u(!0),d(h,null,x(o,(r,s)=>(u(),d("div",{key:r,class:"row"},[e(l,{type:"group",index:s},{default:c(()=>[e(l,{type:"text",label:"Name",name:"skill_name","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-6 col-lg-2",validation:"required",autocomplete:"off"}),e(l,{type:"text",label:"Icon",name:"skill_icon","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-6 col-lg-2",validation:"required",autocomplete:"off"}),e(l,{type:"text",label:"Type",name:"type","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-6 col-lg-1",validation:"required",autocomplete:"off"}),e(l,{type:"text",label:"Cool Down",name:"cooldown","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-6 col-lg-1",validation:"required",autocomplete:"off"}),e(l,{type:"text",label:"Mana Cost",name:"manacost","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-6 col-lg-1",validation:"required",autocomplete:"off"}),e(l,{type:"text",label:"Description",name:"description","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-6 col-lg-3",validation:"required",autocomplete:"off"})]),_:2},1032,["index"]),t("div",ue,[t("li",de,[e(l,{type:"button","input-class":"p-action-btn",onClick:b=>{var n,f;return(f=a.value.skills)==null?void 0:f.splice(s-1,0,(n=a.value.skills)==null?void 0:n.splice(s,1)[0])}},{default:c(()=>[e(p(_),{icon:"arrowUp"})]),_:2},1032,["onClick"])]),t("li",_e,[e(l,{type:"button","input-class":"p-action-btn",onClick:b=>{var n,f;return(f=a.value.skills)==null?void 0:f.splice(s+1,0,(n=a.value.skills)==null?void 0:n.splice(s,1)[0])}},{default:c(()=>[e(p(_),{icon:"arrowDown"})]),_:2},1032,["onClick"])]),t("li",be,[e(l,{type:"button","input-class":"$remove:formkit-input btn btn-danger p-action-btn",onClick:b=>{var n;return(n=a.value.skills)==null?void 0:n.splice(s,1)}},{default:c(()=>[e(p(_),{icon:"close"})]),_:2},1032,["onClick"])])])]))),128))]),_:1},8,["modelValue"])])),[[p(y)]]),v((u(),d("div",null,[t("div",ke,[we,t("div",ye,[e(l,{type:"button","input-class":"$remove:formkit-input btn btn-primary p-action-btn me-2",onClick:I},{default:c(()=>[e(p(_),{icon:"add"})]),_:1}),e(l,{type:"button","input-class":"$remove:formkit-input btn btn-danger p-action-btn",onClick:O},{default:c(()=>[e(p(_),{icon:"close"})]),_:1})])]),ge,e(l,{modelValue:a.value.base_attributes,"onUpdate:modelValue":i[2]||(i[2]=o=>a.value.base_attributes=o),name:"base_attributes",type:"list",dynamic:""},{default:c(({items:o})=>[(u(!0),d(h,null,x(o,(r,s)=>(u(),d("div",{key:r,class:"row"},[e(l,{type:"group",index:s},{default:c(()=>[e(l,{type:"text",label:"HP",name:"hp","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Mana",name:"mana","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Attack Speed",name:"attack_speed","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Movement Speed",name:"movement_speed","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Spell Vamp",name:"spell_vamp","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Healing Effect",name:"healing_effect","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"HP Regen Rate",name:"hp_regen_rate","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Mana Regen Rate",name:"mana_regen_rate","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Critical Strike Chance",name:"critical_strike_chance","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-6",autocomplete:"off"}),e(l,{type:"text",label:"Critical Damage",name:"critical_damage","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-6",autocomplete:"off"}),e(l,{type:"text",label:"CD Reduction",name:"cd_reduction","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-6",autocomplete:"off"}),e(l,{type:"text",label:"BS CD Reduction",name:"bs_cd_reduction","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-6",autocomplete:"off"}),e(l,{type:"text",label:"Monster Damage Reduction",name:"monster_damage_reduction","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-6",autocomplete:"off"}),e(l,{type:"text",label:"Monster Damage",name:"monster_damage","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-6",autocomplete:"off"}),ve,e(l,{type:"text",label:"Attack",name:"physical_attack","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Defense",name:"physical_defense","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Lifesteal",name:"physical_lifesteal","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),e(l,{type:"text",label:"Penetration",name:"physical_penetration","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-12 col-md-3 col-lg-3",autocomplete:"off"}),he,e(l,{type:"text",label:"Attack",name:"magic_attack","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-md col-lg",autocomplete:"off"}),e(l,{type:"text",label:"Power",name:"magic_power","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-md col-lg",autocomplete:"off"}),e(l,{type:"text",label:"Penetration",name:"magic_penetration","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-md col-lg",autocomplete:"off"}),e(l,{type:"text",label:"Lifesteal",name:"magic_lifesteal","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-md col-lg",autocomplete:"off"}),e(l,{type:"text",label:"Resistance",name:"magic_resistance","wrapper-class":{"formkit-wrapper":!1},"outer-class":"col-md col-lg",autocomplete:"off"})]),_:2},1032,["index"])]))),128))]),_:1},8,["modelValue"])])),[[p(y)]])]),_:1},8,["modelValue","disabled"])])}}});export{je as default};
